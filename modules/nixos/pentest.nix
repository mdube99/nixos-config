{
  inputs,
  outputs,
  lib,
  config,
  pkgs,
  ...
}: {
  environment.systemPackages = with pkgs; [
    gowitness
    httpx
    enum4linux
    enum4linux-ng
    sslscan
    rustscan
    subfinder
    unstable.nuclei
    metasploit
    kerbrute
    ffuf
    snmpcheck
    ike-scan
    freerdp
    rdesktop
    python310Packages.impacket
    evil-winrm
    john
    thc-hydra
    nikto
    wpscan
    sqlmap
    gnome.gnome-terminal
    net-snmp
    dnsrecon
    unstable.netexec
    bloodhound
    bloodhound-py
    samba
    smbmap
    certipy
    openldap
    ldeep
    openvpn
    ppp # for tunneling
    inetutils
    sshuttle
    proxychains
    proxychains-ng
  ];

  environment.etc = {
    ppp.source = ../../configurations/ppp;
  };

  security.sudo.extraRules = [
    {
      users = ["mark"];
      commands = [
        {
          command = "ALL";
          options = ["NOPASSWD"]; # "SETENV" # Adding the following could be a good idea
        }
      ];
    }
  ];
}
